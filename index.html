<!DOCTYPE html><html><head><title>React Google Maps | tomchentw</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charset="UTF-8"/><link rel="stylesheet" href="assets/client-49532d0500e4b5284666.css"/><script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;libraries=geometry,drawing,places"></script><script src="assets/prism-0dcd87a8f06134009876.js"></script></head><body><div id="react-container"><div id="react-root" data-reactid=".1rjmbc3ttz4" data-react-checksum="1292191638"><nav class="navbar navbar-default" role="navigation" data-reactid=".1rjmbc3ttz4.0"><div class="container-fluid" data-reactid=".1rjmbc3ttz4.0.0"><div class="navbar-header" data-reactid=".1rjmbc3ttz4.0.0.0"><button type="button" class="navbar-toggle collapsed" data-reactid=".1rjmbc3ttz4.0.0.0.0"><span class="sr-only" data-reactid=".1rjmbc3ttz4.0.0.0.0.0">Toggle navigation</span><span class="icon-bar" data-reactid=".1rjmbc3ttz4.0.0.0.0.1"></span><span class="icon-bar" data-reactid=".1rjmbc3ttz4.0.0.0.0.2"></span><span class="icon-bar" data-reactid=".1rjmbc3ttz4.0.0.0.0.3"></span></button><a class="navbar-brand" href="#" data-reactid=".1rjmbc3ttz4.0.0.0.1">React Google Maps</a></div><div class="collapse navbar-collapse" data-reactid=".1rjmbc3ttz4.0.0.1"><ul class="nav navbar-nav" data-reactid=".1rjmbc3ttz4.0.0.1.0"><li data-reactid=".1rjmbc3ttz4.0.0.1.0.0"><a href="https://github.com/tomchentw" target="_blank" data-reactid=".1rjmbc3ttz4.0.0.1.0.0.0">by @tomchentw</a></li><li class="active" data-reactid=".1rjmbc3ttz4.0.0.1.0.1:$gs"><a href="#gs" data-reactid=".1rjmbc3ttz4.0.0.1.0.1:$gs.0">Getting started</a></li><li class="dropdown" data-reactid=".1rjmbc3ttz4.0.0.1.0.2"><a href="javascript:void(0);" class="dropdown-toggle" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.0"><span data-reactid=".1rjmbc3ttz4.0.0.1.0.2.0.0">Samples </span><span class="caret" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.0.1"></span></a><ul class="dropdown-menu" role="menu" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1"><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__simple-map"><a href="#basics/simple-map" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__simple-map.0">Simple Map</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__styled-map"><a href="#basics/styled-map" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__styled-map.0">Styled Map</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__geolocation"><a href="#basics/geolocation" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__geolocation.0">Geolocation</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__directions"><a href="#basics/directions" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__directions.0">Directions</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__overlay-view"><a href="#basics/overlay-view" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__overlay-view.0">OverlayView</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__marker-clusterer"><a href="#basics/marker-clusterer" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__marker-clusterer.0">MarkerClusterer</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__kml-layer"><a href="#basics/kml-layer" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$basics__kml-layer.0">KmlLayer</a></li><li class="divider" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$divider_7"></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__simple-click-event"><a href="#events/simple-click-event" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__simple-click-event.0">Simple click event</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__event-closure"><a href="#events/event-closure" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__event-closure.0">Using closures in event listeners</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__event-arguments"><a href="#events/event-arguments" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__event-arguments.0">Accessing arguments in UI events</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__event-properties"><a href="#events/event-properties" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$events__event-properties.0">Getting properties with event handlers</a></li><li class="divider" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$divider_12"></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$drawing__drawing-tools"><a href="#drawing/drawing-tools" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$drawing__drawing-tools.0">Drawing Tools</a></li><li class="divider" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$divider_14"></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$places__search-box"><a href="#places/search-box" data-reactid=".1rjmbc3ttz4.0.0.1.0.2.1.$places__search-box.0">Adding a Places search box</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right" style="margin-right:100px;" data-reactid=".1rjmbc3ttz4.0.0.1.1"><li data-reactid=".1rjmbc3ttz4.0.0.1.1.0"><a href="async/" data-reactid=".1rjmbc3ttz4.0.0.1.1.0.0">Async Example</a></li><li class="" data-reactid=".1rjmbc3ttz4.0.0.1.1.1:$geojson"><a href="#geojson" data-reactid=".1rjmbc3ttz4.0.0.1.1.1:$geojson.0">Geojson</a></li></ul></div></div></nav><div class="container-fluid container--full-height" data-reactid=".1rjmbc3ttz4.1"><div class="github-fork-ribbon-wrapper right" style="width:150px;height:150px;position:absolute;overflow:hidden;top:0px;z-index:9999;pointer-events:none;right:0px;" data-reactid=".1rjmbc3ttz4.1.0"><div class="github-fork-ribbon" style="position:absolute;padding:2px 0;background-color:#333;background-image:linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));-webkit-box-shadow:0 2px 3px 0 rgba(0, 0, 0, 0.5);-moz-box-shadow:0 2px 3px 0 rgba(0, 0, 0, 0.5);box-shadow:0 2px 3px 0 rgba(0, 0, 0, 0.5);font:700 13px &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;z-index:9999;pointer-events:auto;top:42px;right:-43px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);" data-reactid=".1rjmbc3ttz4.1.0.0"><a href="https://github.com/tomchentw/react-google-maps" style="color:#fff;text-decoration:none;text-shadow:0 -1px rgba(0, 0, 0, 0.5);text-align:center;width:200px;line-height:20px;display:inline-block;padding:2px 0;border-width:1px 0;border-style:dotted;border-color:rgba(255, 255, 255, 0.7);" data-reactid=".1rjmbc3ttz4.1.0.0.0">Fork me on GitHub</a></div></div><div id="toast-container" aria-live="polite" role="alert" data-reactid=".1rjmbc3ttz4.1.1"></div><div class="row row--full-height" data-reactid=".1rjmbc3ttz4.1.2"><div class="col-xs-6" style="height:100%;" data-reactid=".1rjmbc3ttz4.1.2.0"></div><div class="col-xs-6" data-reactid=".1rjmbc3ttz4.1.2.1"><pre data-reactid=".1rjmbc3ttz4.1.2.1.0"><code class="language-javascript" data-reactid=".1rjmbc3ttz4.1.2.1.0.0">import {default as React, Component} from &quot;react&quot;;
import {default as update} from &quot;react-addons-update&quot;;

import {default as canUseDOM} from &quot;can-use-dom&quot;;
import {default as _} from &quot;lodash&quot;;

import {GoogleMapLoader, GoogleMap, Marker} from &quot;react-google-maps&quot;;
import {triggerEvent} from &quot;react-google-maps/lib/utils&quot;;

/*
 * This is the modify version of:
 * https://developers.google.com/maps/documentation/javascript/examples/event-arguments
 *
 * Add &lt;script src=&quot;https://maps.googleapis.com/maps/api/js&quot;&gt;&lt;/script&gt; to your HTML to provide google.maps reference
 */
export default class GettingStarted extends Component {

  state = {
    markers: [{
      position: {
        lat: 25.0112183,
        lng: 121.52067570000001,
      },
      key: &quot;Taiwan&quot;,
      defaultAnimation: 2
    }],
  }

  constructor (props, context) {
    super(props, context);
    this.handleWindowResize = _.throttle(::this.handleWindowResize, 500);
  }

  componentDidMount () {
    if (!canUseDOM) {
      return;
    }
    window.addEventListener(&quot;resize&quot;, this.handleWindowResize);
  }

  componentWillUnmount () {
    if (!canUseDOM) {
      return;
    }
    window.removeEventListener(&quot;resize&quot;, this.handleWindowResize);
  }

  handleWindowResize () {
    console.log(&quot;handleWindowResize&quot;, this._googleMapComponent);
    triggerEvent(this._googleMapComponent, &quot;resize&quot;);
  }

  /*
   * This is called when you click on the map.
   * Go and try click now.
   */
  handleMapClick (event) {
    var {markers} = this.state;
    markers = update(markers, {
      $push: [
        {
          position: event.latLng,
          defaultAnimation: 2,
          key: Date.now(),// Add a key property for: http://fb.me/react-warning-keys
        },
      ],
    });
    this.setState({ markers });

    if (3 === markers.length) {
      this.props.toast(
        &quot;Right click on the marker to remove it&quot;,
        &quot;Also check the code!&quot;
      );
    }
  }

  handleMarkerRightclick (index, event) {
    /*
     * All you modify is data, and the view is driven by data.
     * This is so called data-driven-development. (And yes, it&#x27;s now in
     * web front end and even with google maps API.)
     */
    var {markers} = this.state;
    markers = update(markers, {
      $splice: [
        [index, 1]
      ],
    });
    this.setState({ markers });
  }

  render () {
    return (
      &lt;GoogleMapLoader
        containerElement={
          &lt;div
            {...this.props}
            style={{
              height: &quot;100%&quot;,
            }}
          /&gt;
        }
        googleMapElement={
          &lt;GoogleMap
            ref={(map) =&gt; (this._googleMapComponent = map) &amp;&amp; console.log(map.getZoom())}
            defaultZoom={3}
            defaultCenter={{lat: -25.363882, lng: 131.044922}}
            onClick={::this.handleMapClick}&gt;
            {this.state.markers.map((marker, index) =&gt; {
              return (
                &lt;Marker
                  {...marker}
                  onRightclick={this.handleMarkerRightclick.bind(this, index)} /&gt;
              );
            })}
          &lt;/GoogleMap&gt;
        }
      /&gt;
    );
  }
}
</code></pre></div></div></div></div></div><script src="assets/client-49532d0500e4b5284666.js"></script></body></html>